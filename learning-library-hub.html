<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LEARNING LIBRARY HUB</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            image-rendering: pixelated;
        }
        
        body {
            font-family: 'Press Start 2P', cursive;
            background: #000;
            color: #0f0;
            overflow-x: hidden;
        }
        
        .game-wrapper {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .game-container {
            width: 100%;
            max-width: 1000px;
            background: #222;
            border: 8px solid #0ff;
            box-shadow: 0 0 40px rgba(0, 255, 255, 0.5);
            position: relative;
        }
        
        .crt-effect {
            pointer-events: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.15),
                rgba(0, 0, 0, 0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            z-index: 1000;
        }
        
        .screen {
            background: #000;
            padding: 30px;
            min-height: 600px;
        }
        
        .main-title {
            text-align: center;
            font-size: 24px;
            color: #0ff;
            text-shadow: 3px 3px #f0f;
            margin-bottom: 15px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .subtitle {
            text-align: center;
            font-size: 10px;
            color: #ff0;
            margin-bottom: 40px;
            letter-spacing: 2px;
        }

        .section-header {
            text-align: center;
            margin: 50px 0 30px 0;
            padding: 20px;
            border-top: 3px solid #0ff;
            border-bottom: 3px solid #0ff;
        }

        .section-title {
            font-size: 16px;
            color: #0ff;
            text-shadow: 2px 2px #f0f;
            margin-bottom: 10px;
            letter-spacing: 3px;
        }

        .section-subtitle {
            font-size: 8px;
            color: #f0f;
            letter-spacing: 2px;
        }
        
        .library-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 30px;
        }
        
        .module-card {
            background: linear-gradient(135deg, #001a1a 0%, #000 100%);
            border: 4px solid #333;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            min-height: 250px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Tap/click animation */
        .module-card:active:not(.coming-soon) {
            transform: scale(0.97);
            transition: transform 0.1s ease;
        }

        /* Loading overlay */
        .module-card .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            z-index: 10;
        }

        .module-card.loading .loading-overlay {
            opacity: 1;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #333;
            border-top-color: #0ff;
            border-radius: 50%;
            animation: spin 0.8s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Progress bar inside cards */
        .module-progress-bar {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: #222;
        }

        .module-progress-fill {
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
        }

        .psychodynamic .module-progress-fill { background: linear-gradient(90deg, #0f0, #0ff); }
        .mate .module-progress-fill { background: linear-gradient(90deg, #f90, #ff0); }
        .vdk .module-progress-fill { background: linear-gradient(90deg, #f0f, #f9f); }
        .stdp .module-progress-fill { background: linear-gradient(90deg, #f00, #f90); }
        .ci .module-progress-fill { background: linear-gradient(90deg, #0cf, #0ff); }
        .miller .module-progress-fill { background: linear-gradient(90deg, #fa0, #fc0); }
        .berne .module-progress-fill { background: linear-gradient(90deg, #d0f, #f0f); }

        /* Completed module state */
        .module-card.completed {
            border-width: 4px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
        }

        .module-card.completed::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.05) 0%, transparent 50%);
            pointer-events: none;
        }

        .module-card.completed .progress-badge {
            background: linear-gradient(135deg, #4a3f00, #2a2400);
            border-color: #ffd700;
            color: #ffd700;
        }

        /* In-progress module state */
        .module-card.in-progress {
            border-style: solid;
        }

        .module-card.in-progress .progress-badge {
            animation: progressPulse 2s ease-in-out infinite;
        }

        @keyframes progressPulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }

        /* New module state */
        .module-card.new-module .progress-badge {
            background: #001a1a;
        }
        
        .module-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 255, 0.3);
        }

        .module-card.completed:hover {
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
        }
        
        .module-card.psychodynamic {
            border-color: #0f0;
        }
        
        .module-card.psychodynamic:hover {
            border-color: #0ff;
            background: linear-gradient(135deg, #001a00 0%, #000 100%);
            box-shadow: 0 10px 30px rgba(0, 255, 0, 0.3);
        }
        
        .module-card.mate {
            border-color: #f90;
        }
        
        .module-card.mate:hover {
            border-color: #ff0;
            background: linear-gradient(135deg, #1a0a00 0%, #000 100%);
            box-shadow: 0 10px 30px rgba(255, 153, 0, 0.3);
        }
        
        .module-card.vdk {
            border-color: #f0f;
        }
        
        .module-card.vdk:hover {
            border-color: #0ff;
            background: linear-gradient(135deg, #1a001a 0%, #000 100%);
            box-shadow: 0 10px 30px rgba(255, 0, 255, 0.3);
        }
        
        .module-card.stdp {
            border-color: #f00;
        }
        
        .module-card.stdp:hover {
            border-color: #ff0;
            background: linear-gradient(135deg, #1a0000 0%, #000 100%);
            box-shadow: 0 10px 30px rgba(255, 0, 0, 0.3);
        }

        .module-card.ci {
            border-color: #0cf;
        }
        
        .module-card.ci:hover {
            border-color: #0ff;
            background: linear-gradient(135deg, #001a1a 0%, #000 100%);
            box-shadow: 0 10px 30px rgba(0, 204, 255, 0.3);
        }

        .module-card.miller {
            border-color: #fa0;
        }
        
        .module-card.miller:hover {
            border-color: #fc0;
            background: linear-gradient(135deg, #1a0f00 0%, #000 100%);
            box-shadow: 0 10px 30px rgba(255, 170, 0, 0.3);
        }
        
        .module-card.berne {
            border-color: #d0f;
        }
        
        .module-card.berne:hover {
            border-color: #f0f;
            background: linear-gradient(135deg, #1a001a 0%, #000 100%);
            box-shadow: 0 10px 30px rgba(221, 0, 255, 0.3);
        }
        
        .module-card.coming-soon {
            opacity: 0.5;
            cursor: not-allowed;
            border-style: dashed;
        }
        
        .module-card.coming-soon:hover {
            transform: none;
            box-shadow: none;
        }
        
        .module-icon {
            font-size: 48px;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .module-title {
            font-size: 12px;
            text-align: center;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        
        .psychodynamic .module-title {
            color: #0f0;
        }
        
        .mate .module-title {
            color: #f90;
        }
        
        .vdk .module-title {
            color: #f0f;
        }
        
        .stdp .module-title {
            color: #f00;
        }

        .ci .module-title {
            color: #0cf;
        }

        .miller .module-title {
            color: #fa0;
        }
        
        .berne .module-title {
            color: #d0f;
        }
        
        .coming-soon .module-title {
            color: #666;
        }
        
        .module-author {
            font-size: 8px;
            text-align: center;
            color: #999;
            margin-bottom: 15px;
        }
        
        .module-description {
            font-size: 8px;
            line-height: 1.6;
            color: #ccc;
            margin-bottom: 15px;
            flex-grow: 1;
        }
        
        .module-stats {
            display: flex;
            justify-content: space-around;
            padding-top: 15px;
            margin-bottom: 20px;
            border-top: 2px solid #333;
            font-size: 7px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-label {
            color: #666;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 10px;
        }
        
        .psychodynamic .stat-value {
            color: #0f0;
        }
        
        .mate .stat-value {
            color: #f90;
        }
        
        .vdk .stat-value {
            color: #f0f;
        }
        
        .stdp .stat-value {
            color: #f00;
        }

        .ci .stat-value {
            color: #0cf;
        }

        .miller .stat-value {
            color: #fa0;
        }

        .berne .stat-value {
            color: #d0f;
        }
        
        .coming-soon-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #333;
            color: #666;
            padding: 5px 10px;
            font-size: 6px;
            border: 2px solid #666;
        }
        
        .info-section {
            background: #111;
            border: 4px solid #0ff;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .info-title {
            color: #0ff;
            font-size: 12px;
            margin-bottom: 15px;
        }
        
        .info-text {
            color: #999;
            font-size: 8px;
            line-height: 1.8;
        }
        
        .footer {
            text-align: center;
            color: #666;
            font-size: 7px;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 2px solid #333;
        }
        
        .launch-btn {
            background: #003300;
            border: 3px solid #0f0;
            color: #0f0;
            padding: 12px 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 9px;
            cursor: pointer;
            width: 100%;
            margin-top: auto;
            transition: all 0.2s ease;
            position: relative;
            overflow: hidden;
        }

        .launch-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
            transition: left 0.5s;
        }

        .launch-btn:hover::before {
            left: 100%;
        }
        
        .launch-btn:hover {
            background: #005500;
            border-color: #0ff;
            color: #0ff;
            transform: scale(1.02);
        }

        .launch-btn:active {
            transform: scale(0.98);
        }

        /* Continue button style (in progress) */
        .launch-btn.continue-btn {
            animation: continuePulse 2s ease-in-out infinite;
        }

        @keyframes continuePulse {
            0%, 100% { box-shadow: 0 0 0 0 rgba(0, 255, 0, 0.4); }
            50% { box-shadow: 0 0 15px 2px rgba(0, 255, 0, 0.2); }
        }

        /* Review button style (completed) */
        .launch-btn.review-btn {
            background: linear-gradient(135deg, #2a2400, #1a1700);
            border-color: #ffd700;
            color: #ffd700;
        }

        .launch-btn.review-btn:hover {
            background: linear-gradient(135deg, #3a3400, #2a2400);
            border-color: #ffed4a;
            color: #ffed4a;
        }
        
        .mate .launch-btn {
            background: #331a00;
            border-color: #f90;
            color: #f90;
        }
        
        .mate .launch-btn:hover {
            background: #4d2600;
            border-color: #ff0;
            color: #ff0;
        }
        
        .vdk .launch-btn {
            background: #330033;
            border-color: #f0f;
            color: #f0f;
        }
        
        .vdk .launch-btn:hover {
            background: #4d004d;
            border-color: #0ff;
            color: #0ff;
        }
        
        .stdp .launch-btn {
            background: #330000;
            border-color: #f00;
            color: #f00;
        }
        
        .stdp .launch-btn:hover {
            background: #4d0000;
            border-color: #ff0;
            color: #ff0;
        }

        .ci .launch-btn {
            background: #001a1a;
            border-color: #0cf;
            color: #0cf;
        }
        
        .ci .launch-btn:hover {
            background: #003333;
            border-color: #0ff;
            color: #0ff;
        }

        .miller .launch-btn {
            background: #331a00;
            border-color: #fa0;
            color: #fa0;
        }

        .miller .launch-btn:hover {
            background: #4d2600;
            border-color: #fc0;
            color: #fc0;
        }

        .berne .launch-btn {
            background: #1a001a;
            border-color: #d0f;
            color: #d0f;
        }

        .berne .launch-btn:hover {
            background: #2a002a;
            border-color: #f0f;
            color: #f0f;
        }
        
        .placeholder-btn {
            background: #1a1a1a;
            border: 3px dashed #666;
            color: #666;
            padding: 10px 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            width: 100%;
            margin-top: auto;
            cursor: not-allowed;
        }

        /* Tooltip for locked modules */
        .tooltip {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            background: #000;
            border: 2px solid #0ff;
            padding: 8px 12px;
            font-size: 7px;
            color: #0ff;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
            z-index: 100;
        }

        .module-card.coming-soon:hover .tooltip {
            opacity: 1;
        }

        /* Improved hover effects */
        .module-card:not(.coming-soon):hover .launch-btn {
            animation: btnPulse 0.5s ease-in-out;
        }

        @keyframes btnPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        /* Keyboard focus states */
        .module-card:focus-within {
            outline: 3px solid #0ff;
            outline-offset: 4px;
        }

        .launch-btn:focus,
        .placeholder-btn:focus {
            outline: 2px solid #ff0;
            outline-offset: 2px;
        }
        
        .placeholder-btn {
            background: #1a1a1a;
            border: 3px dashed #333;
            color: #666;
            padding: 10px 20px;
            font-family: 'Press Start 2P', cursive;
            font-size: 8px;
            cursor: not-allowed;
            width: 100%;
            margin-top: auto;
        }

        .progress-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: #000;
            padding: 5px 10px;
            font-size: 7px;
            border: 2px solid;
        }

        .psychodynamic .progress-badge {
            border-color: #0f0;
            color: #0f0;
        }

        .mate .progress-badge {
            border-color: #f90;
            color: #f90;
        }

        .vdk .progress-badge {
            border-color: #f0f;
            color: #f0f;
        }

        .stdp .progress-badge {
            border-color: #f00;
            color: #f00;
        }

        .miller .progress-badge {
            border-color: #fa0;
            color: #fa0;
        }

        .berne .progress-badge {
            border-color: #d0f;
            color: #d0f;
        }

        .ci .progress-badge {
            border-color: #0cf;
            color: #0cf;
        }

        .quick-stats {
            background: #111;
            border: 4px solid #0ff;
            padding: 15px;
            margin-bottom: 30px;
            display: flex;
            justify-content: space-around;
        }

        .quick-stat {
            text-align: center;
        }

        .quick-stat-value {
            font-size: 20px;
            color: #0ff;
            margin-bottom: 5px;
        }

        .quick-stat-label {
            font-size: 7px;
            color: #999;
        }

        .quick-stat-hint {
            font-size: 8px;
            color: #666;
            margin-top: 5px;
            font-style: italic;
        }

        /* ========== MOBILE OPTIMIZATION ========== */
        @media (max-width: 768px) {
            .game-wrapper {
                padding: 10px;
            }
            
            .game-container {
                border-width: 4px;
            }
            
            .screen {
                padding: 15px;
            }
            
            .main-title {
                font-size: 16px;
                margin-bottom: 10px;
            }
            
            .subtitle {
                font-size: 10px;
                margin-bottom: 25px;
            }
            
            .section-header {
                margin: 30px 0 20px 0;
                padding: 15px;
            }
            
            .section-title {
                font-size: 12px;
                letter-spacing: 1px;
            }
            
            .section-subtitle {
                font-size: 9px;
            }
            
            .library-grid {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .module-card {
                padding: 20px;
                min-height: auto;
            }
            
            .module-icon {
                font-size: 40px;
                margin-bottom: 12px;
            }
            
            .module-title {
                font-size: 11px;
                line-height: 1.5;
            }
            
            .module-author {
                font-size: 9px;
            }
            
            .module-description {
                font-size: 10px;
                line-height: 1.8;
            }
            
            .module-stats {
                font-size: 9px;
                padding-top: 12px;
            }
            
            .stat-value {
                font-size: 12px;
            }
            
            .launch-btn,
            .placeholder-btn {
                font-size: 10px;
                padding: 12px 15px;
            }
            
            .progress-badge {
                font-size: 8px;
                padding: 4px 8px;
            }
            
            .quick-stats {
                flex-wrap: wrap;
                gap: 15px;
                padding: 15px 10px;
            }
            
            .quick-stat {
                flex: 1 1 40%;
                min-width: 80px;
            }
            
            .quick-stat-value {
                font-size: 18px;
            }
            
            .quick-stat-label {
                font-size: 8px;
            }
            
            .info-section {
                padding: 15px;
            }
            
            .info-title {
                font-size: 11px;
            }
            
            .info-text {
                font-size: 10px;
                line-height: 2;
            }
            
            .coming-soon-badge {
                font-size: 7px;
            }
            
            .tooltip {
                font-size: 8px;
            }
            
            /* Hide keyboard shortcuts hint on mobile */
            .info-text br + br + span,
            .info-text strong[style] {
                display: inline;
            }
        }

        /* ========== LARGER SCREENS - ACCESSIBILITY BOOST ========== */
        @media (min-width: 769px) {
            .subtitle {
                font-size: 12px;
            }
            
            .section-subtitle {
                font-size: 10px;
            }
            
            .module-title {
                font-size: 14px;
            }
            
            .module-author {
                font-size: 10px;
            }
            
            .module-description {
                font-size: 10px;
                line-height: 1.8;
            }
            
            .module-stats {
                font-size: 9px;
            }
            
            .stat-value {
                font-size: 12px;
            }
            
            .launch-btn,
            .placeholder-btn {
                font-size: 10px;
                padding: 12px 20px;
            }
            
            .progress-badge {
                font-size: 9px;
            }
            
            .info-text {
                font-size: 10px;
                line-height: 2;
            }
            
            .quick-stat-label {
                font-size: 9px;
            }
            
            .footer {
                font-size: 9px;
            }
            
            .tooltip {
                font-size: 9px;
            }
            
            .coming-soon-badge {
                font-size: 8px;
            }
        }

        /* ========== TOUCH-FRIENDLY IMPROVEMENTS ========== */
        @media (hover: none) and (pointer: coarse) {
            .module-card:hover {
                transform: none;
            }
            
            .launch-btn:hover {
                transform: none;
            }
            
            .module-card:active {
                transform: scale(0.98);
                opacity: 0.9;
            }
            
            .launch-btn:active {
                transform: scale(0.95);
            }
        }
    </style>
</head>
<body>
    <div class="game-wrapper">
        <div class="game-container">
            <div class="crt-effect"></div>
            <div class="screen">
                <div class="main-title">ðŸ“š LEARNING LIBRARY ðŸ“š</div>
                <div class="subtitle">THERAPEUTIC KNOWLEDGE BASE</div>
                
                <div class="quick-stats">
                    <div class="quick-stat">
                        <div class="quick-stat-value" id="total-modules">5</div>
                        <div class="quick-stat-label">MODULES</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value" id="total-skills">48</div>
                        <div class="quick-stat-label">SKILLS</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value" id="total-completed">0</div>
                        <div class="quick-stat-label">COMPLETED</div>
                    </div>
                    <div class="quick-stat">
                        <div class="quick-stat-value" id="total-xp">0</div>
                        <div class="quick-stat-label">TOTAL XP</div>
                    </div>
                </div>

                <div class="info-section">
                    <div class="info-title">âš¡ WELCOME TO YOUR LEARNING HUB âš¡</div>
                    <div class="info-text">
                        Each module is a comprehensive, progressive learning path. Start from foundations and work your way to mastery. 
                        Your progress is saved locally - pick up where you left off anytime.<br><br>
                        Tap any module below to begin your journey!
                    </div>
                </div>
                
                <!-- THERAPEUTIC APPROACHES Section -->
                <div class="section-header">
                    <div class="section-title">âš¡ THERAPEUTIC APPROACHES âš¡</div>
                    <div class="section-subtitle">Core modalities and treatment methods</div>
                </div>
                
                <div class="library-grid">
                    <!-- Psychodynamic Module -->
                    <div class="module-card psychodynamic new-module" onclick="launchModule('psychodynamic', this)" id="card-psychodynamic">
                        <div class="loading-overlay"><div class="loading-spinner"></div></div>
                        <div class="progress-badge" id="psychodynamic-progress">NEW</div>
                        <div class="module-icon">âš¡</div>
                        <div class="module-title">PSYCHODYNAMIC THERAPY</div>
                        <div class="module-author">Classical & Contemporary Theory</div>
                        <div class="module-description">
                            Master psychodynamic concepts from foundations to expert level. Learn: unconscious processes, 
                            defense mechanisms, transference & countertransference, resistance, dream work, object relations, 
                            interpretation, working through, enactments, and termination.
                        </div>
                        <div class="module-stats">
                            <div class="stat-item">
                                <div class="stat-label">SKILLS</div>
                                <div class="stat-value">12</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">LEVELS</div>
                                <div class="stat-value">4</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">QUESTIONS</div>
                                <div class="stat-value">36</div>
                            </div>
                        </div>
                        <button class="launch-btn" id="btn-psychodynamic">â†’ START</button>
                        <div class="module-progress-bar"><div class="module-progress-fill" id="bar-psychodynamic"></div></div>
                    </div>

                    <!-- STDP Module -->
                    <div class="module-card stdp new-module" onclick="launchModule('stdp', this)" id="card-stdp">
                        <div class="loading-overlay"><div class="loading-spinner"></div></div>
                        <div class="progress-badge" id="stdp-progress">NEW</div>
                        <div class="module-icon">âš¡</div>
                        <div class="module-title">SHORT-TERM DYNAMIC PSYCHOTHERAPY</div>
                        <div class="module-author">ISTDP / Davanloo / Abbass</div>
                        <div class="module-description">
                            Master intensive affect-focused psychodynamic work. Learn: triangle of conflict, triangle of person, 
                            pressure & challenge, anxiety pathways, defense restructuring, unlocking unconscious, complex mixed feelings, 
                            character resistance, clinical mastery.
                        </div>
                        <div class="module-stats">
                            <div class="stat-item">
                                <div class="stat-label">SKILLS</div>
                                <div class="stat-value">9</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">LEVELS</div>
                                <div class="stat-value">3</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">QUESTIONS</div>
                                <div class="stat-value">27</div>
                            </div>
                        </div>
                        <button class="launch-btn" id="btn-stdp">â†’ START</button>
                        <div class="module-progress-bar"><div class="module-progress-fill" id="bar-stdp"></div></div>
                    </div>

                    <!-- Compassionate Inquiry Module -->
                    <div class="module-card ci new-module" onclick="launchModule('ci', this)" id="card-ci">
                        <div class="loading-overlay"><div class="loading-spinner"></div></div>
                        <div class="progress-badge" id="ci-progress">NEW</div>
                        <div class="module-icon">ðŸ’™</div>
                        <div class="module-title">COMPASSIONATE INQUIRY</div>
                        <div class="module-author">Gabor MatÃ© Method</div>
                        <div class="module-description">
                            Master MatÃ©'s therapeutic approach. Learn: curious presence, body awareness, belief exploration, 
                            tracking process, authentic self reconnection, trauma-informed pacing, therapist presence, 
                            integration in practice, advanced application.
                        </div>
                        <div class="module-stats">
                            <div class="stat-item">
                                <div class="stat-label">SKILLS</div>
                                <div class="stat-value">9</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">LEVELS</div>
                                <div class="stat-value">3</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">QUESTIONS</div>
                                <div class="stat-value">27</div>
                            </div>
                        </div>
                        <button class="launch-btn" id="btn-ci">â†’ START</button>
                        <div class="module-progress-bar"><div class="module-progress-fill" id="bar-ci"></div></div>
                    </div>
                </div>

                <!-- SEMINAL BOOKS Section -->
                <div class="section-header">
                    <div class="section-title">ðŸ“š SEMINAL BOOKS ðŸ“š</div>
                    <div class="section-subtitle">Foundational texts that shaped the field</div>
                </div>

                <div class="library-grid">
                    <!-- Gabor MatÃ© Module -->
                    <div class="module-card mate new-module" onclick="launchModule('mate', this)" id="card-mate">
                        <div class="loading-overlay"><div class="loading-spinner"></div></div>
                        <div class="progress-badge" id="mate-progress">NEW</div>
                        <div class="module-icon">ðŸ‘»</div>
                        <div class="module-title">IN THE REALM OF HUNGRY GHOSTS</div>
                        <div class="module-author">Gabor MatÃ©</div>
                        <div class="module-description">
                            Explore MatÃ©'s revolutionary understanding of addiction, trauma, and compassion. Learn: hungry ghosts metaphor, 
                            trauma as disconnection, compassionate inquiry, brain development, self-compassion, authenticity, 
                            societal context, harm reduction, and integration.
                        </div>
                        <div class="module-stats">
                            <div class="stat-item">
                                <div class="stat-label">SKILLS</div>
                                <div class="stat-value">9</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">LEVELS</div>
                                <div class="stat-value">3</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">QUESTIONS</div>
                                <div class="stat-value">27</div>
                            </div>
                        </div>
                        <button class="launch-btn" id="btn-mate">â†’ START</button>
                        <div class="module-progress-bar"><div class="module-progress-fill" id="bar-mate"></div></div>
                    </div>

                    <!-- Body Keeps Score Module -->
                    <div class="module-card vdk new-module" onclick="launchModule('vdk', this)" id="card-vdk">
                        <div class="loading-overlay"><div class="loading-spinner"></div></div>
                        <div class="progress-badge" id="vdk-progress">NEW</div>
                        <div class="module-icon">ðŸ’œ</div>
                        <div class="module-title">THE BODY KEEPS THE SCORE</div>
                        <div class="module-author">Bessel van der Kolk</div>
                        <div class="module-description">
                            Master van der Kolk's groundbreaking neuroscience of trauma. Learn: how trauma lives in the body, 
                            window of tolerance, brain changes, developmental trauma, EMDR, yoga & movement, neurofeedback, 
                            theater & community healing, comprehensive treatment.
                        </div>
                        <div class="module-stats">
                            <div class="stat-item">
                                <div class="stat-label">SKILLS</div>
                                <div class="stat-value">9</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">LEVELS</div>
                                <div class="stat-value">3</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">QUESTIONS</div>
                                <div class="stat-value">27</div>
                            </div>
                        </div>
                        <button class="launch-btn" id="btn-vdk">â†’ START</button>
                        <div class="module-progress-bar"><div class="module-progress-fill" id="bar-vdk"></div></div>
                    </div>

                    <!-- Alice Miller Module -->
                    <div class="module-card miller new-module" onclick="launchModule('miller', this)" id="card-miller">
                        <div class="loading-overlay"><div class="loading-spinner"></div></div>
                        <div class="progress-badge" id="miller-progress">NEW</div>
                        <div class="module-icon">ðŸŽ­</div>
                        <div class="module-title">THE DRAMA OF THE GIFTED CHILD</div>
                        <div class="module-author">Alice Miller</div>
                        <div class="module-description">
                            Explore Miller's revolutionary understanding of the false self. Learn: adaptation to narcissistic parents, 
                            repressed feelings, depression's meaning, poisonous pedagogy, compulsion to repeat, enlightened witness, 
                            therapeutic process, societal implications.
                        </div>
                        <div class="module-stats">
                            <div class="stat-item">
                                <div class="stat-label">SKILLS</div>
                                <div class="stat-value">9</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">LEVELS</div>
                                <div class="stat-value">3</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">QUESTIONS</div>
                                <div class="stat-value">27</div>
                            </div>
                        </div>
                        <button class="launch-btn" id="btn-miller">â†’ START</button>
                        <div class="module-progress-bar"><div class="module-progress-fill" id="bar-miller"></div></div>
                    </div>

                    <!-- Games People Play Module -->
                    <div class="module-card berne new-module" onclick="launchModule('berne', this)" id="card-berne">
                        <div class="loading-overlay"><div class="loading-spinner"></div></div>
                        <div class="progress-badge" id="berne-progress">NEW</div>
                        <div class="module-icon">ðŸŽ­</div>
                        <div class="module-title">GAMES PEOPLE PLAY</div>
                        <div class="module-author">Eric Berne</div>
                        <div class="module-description">
                            Master Transactional Analysis and understand psychological games. Learn: ego states (Parent/Adult/Child), 
                            transactions, strokes, life positions, games, drama triangle, life scripts, achieving autonomy, 
                            clinical integration.
                        </div>
                        <div class="module-stats">
                            <div class="stat-item">
                                <div class="stat-label">SKILLS</div>
                                <div class="stat-value">9</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">LEVELS</div>
                                <div class="stat-value">3</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-label">QUESTIONS</div>
                                <div class="stat-value">27</div>
                            </div>
                        </div>
                        <button class="launch-btn" id="btn-berne">â†’ START</button>
                        <div class="module-progress-bar"><div class="module-progress-fill" id="bar-berne"></div></div>
                    </div>
                </div>

                <!-- Coming Soon Section -->
                <div class="library-grid" style="margin-top: 30px;">
                    <!-- Placeholder for future books -->
                    <div class="module-card coming-soon">
                        <div class="coming-soon-badge">COMING SOON</div>
                        <div class="tooltip">ðŸ’­ Suggest new modules!</div>
                        <div class="module-icon">ðŸ“–</div>
                        <div class="module-title">MORE BOOKS</div>
                        <div class="module-author">Expanding Library</div>
                        <div class="module-description">
                            More transformative books coming soon to expand your therapeutic knowledge...
                        </div>
                        <button class="placeholder-btn">ðŸ”œ SOON</button>
                    </div>
                </div>

            </div>
            </div>
        </div>
    </div>

    <script>
        // Module configuration
        const moduleConfig = {
            psychodynamic: { key: 'psychodynamicAcademy', total: 12, url: 'psychodynamic-academy.html' },
            mate: { key: 'hungryGhostsAcademy', total: 9, url: 'hungry-ghosts-academy.html' },
            vdk: { key: 'bodyKeepsScoreAcademy', total: 9, url: 'body-keeps-score-academy.html' },
            stdp: { key: 'stdpAcademy', total: 9, url: 'stdp-academy.html' },
            ci: { key: 'compassionateInquiryAcademy', total: 9, url: 'compassionate-inquiry-academy.html' },
            miller: { key: 'giftedChildAcademy', total: 9, url: 'gifted-child-academy.html' },
            berne: { key: 'gamesPeoplePlayAcademy', total: 9, url: 'games-people-play-academy.html' }
        };

        // Update a single module's UI based on progress
        function updateModuleUI(moduleId, percent) {
            const card = document.getElementById('card-' + moduleId);
            const badge = document.getElementById(moduleId + '-progress');
            const btn = document.getElementById('btn-' + moduleId);
            const bar = document.getElementById('bar-' + moduleId);

            if (!card || !badge || !btn || !bar) return;

            // Update progress bar
            bar.style.width = percent + '%';

            // Remove all state classes
            card.classList.remove('new-module', 'in-progress', 'completed');
            btn.classList.remove('continue-btn', 'review-btn');

            if (percent === 0) {
                // New module
                card.classList.add('new-module');
                badge.textContent = 'NEW';
                btn.textContent = 'â†’ START';
            } else if (percent < 100) {
                // In progress
                card.classList.add('in-progress');
                badge.textContent = percent + '%';
                btn.textContent = 'â†’ CONTINUE';
                btn.classList.add('continue-btn');
            } else {
                // Completed
                card.classList.add('completed');
                badge.textContent = 'âœ“ COMPLETE';
                btn.textContent = 'â˜… REVIEW';
                btn.classList.add('review-btn');
            }
        }

        // Load progress for all modules
        function loadProgress() {
            Object.keys(moduleConfig).forEach(moduleId => {
                const config = moduleConfig[moduleId];
                const saved = localStorage.getItem(config.key);
                
                if (saved) {
                    const state = JSON.parse(saved);
                    const completed = state.completedSkills ? state.completedSkills.length : 0;
                    const percent = Math.round((completed / config.total) * 100);
                    updateModuleUI(moduleId, percent);
                } else {
                    updateModuleUI(moduleId, 0);
                }
            });

            updateQuickStats();
        }

        function updateQuickStats() {
            let totalCompleted = 0;
            let totalXP = 0;

            Object.keys(moduleConfig).forEach(moduleId => {
                const config = moduleConfig[moduleId];
                const saved = localStorage.getItem(config.key);
                
                if (saved) {
                    const state = JSON.parse(saved);
                    totalCompleted += state.completedSkills ? state.completedSkills.length : 0;
                    totalXP += state.totalXp || 0;
                }
            });

            // Animate number changes
            animateNumber('total-completed', totalCompleted);
            animateNumber('total-xp', totalXP);
        }

        // Animate number counting up
        function animateNumber(elementId, target) {
            const el = document.getElementById(elementId);
            const current = parseInt(el.textContent) || 0;
            
            if (current === target) return;
            
            const diff = target - current;
            const steps = Math.min(Math.abs(diff), 20);
            const increment = diff / steps;
            let step = 0;

            const interval = setInterval(() => {
                step++;
                if (step >= steps) {
                    el.textContent = target;
                    clearInterval(interval);
                } else {
                    el.textContent = Math.round(current + (increment * step));
                }
            }, 30);
        }

        // Launch module with loading animation
        function launchModule(moduleType, cardElement) {
            const config = moduleConfig[moduleType];
            if (!config) return;

            // Add loading state
            if (cardElement) {
                cardElement.classList.add('loading');
            }

            // Brief delay for visual feedback, then navigate
            setTimeout(() => {
                window.location.href = config.url;
            }, 300);
        }

        // Initialize
        loadProgress();

        // Refresh progress periodically
        setInterval(loadProgress, 3000);

        // Make module cards keyboard accessible
        document.querySelectorAll('.module-card:not(.coming-soon)').forEach((card) => {
            card.setAttribute('tabindex', '0');
            card.addEventListener('keypress', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    card.click();
                }
            });
        });

        console.log('%cðŸŽ® LEARNING LIBRARY LOADED', 'color: #0ff; font-size: 16px; font-weight: bold;');
    </script>
</body>
</html>
