<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#001a1a">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <title>COMPASSIONATE INQUIRY ACADEMY</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        :root { --primary: #0cf; --secondary: #0ff; --success: #0f0; --danger: #f44; --bg-dark: #000; --bg-card: #000d0d; --bg-elevated: #001a1a; --border-subtle: #003333; --text-muted: #668; --space-xs: 4px; --space-sm: 8px; --space-md: 12px; --space-lg: 16px; --space-xl: 24px; --touch-target: 44px; --border-width: 3px; --radius-sm: 4px; --radius-md: 8px; --safe-top: env(safe-area-inset-top, 0px); --safe-bottom: env(safe-area-inset-bottom, 0px); --safe-left: env(safe-area-inset-left, 0px); --safe-right: env(safe-area-inset-right, 0px); }
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html { font-size: 16px; scroll-behavior: smooth; }
        body { font-family: 'Press Start 2P', cursive; background: var(--bg-dark); color: var(--primary); min-height: 100vh; min-height: 100dvh; overflow-x: hidden; padding-bottom: calc(70px + var(--safe-bottom)); }
        body::after { content: ''; position: fixed; inset: 0; background: repeating-linear-gradient(0deg, rgba(0,0,0,0.08), rgba(0,0,0,0.08) 1px, transparent 1px, transparent 2px); pointer-events: none; z-index: 9999; }
        .header { position: sticky; top: 0; z-index: 100; background: rgba(0,0,0,0.95); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); padding: var(--space-md); padding-top: calc(var(--space-md) + var(--safe-top)); border-bottom: var(--border-width) solid var(--primary); }
        .header-content { max-width: 600px; margin: 0 auto; }
        .title { font-size: 9px; color: var(--primary); text-shadow: 2px 2px var(--secondary), 0 0 20px rgba(0,204,255,0.5); text-align: center; margin-bottom: var(--space-xs); }
        .subtitle { font-size: 6px; color: var(--secondary); text-align: center; margin-bottom: var(--space-md); opacity: 0.8; }
        .xp-bar-outer { background: var(--border-subtle); border: 2px solid var(--primary); border-radius: var(--radius-sm); height: 18px; position: relative; overflow: hidden; margin-bottom: var(--space-sm); }
        .xp-bar-fill { background: linear-gradient(90deg, var(--primary), var(--secondary)); height: 100%; width: 0%; transition: width 0.5s; position: relative; }
        .xp-bar-fill::after { content: ''; position: absolute; inset: 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent); animation: shimmer 2s infinite; }
        @keyframes shimmer { 0% { transform: translateX(-100%); } 100% { transform: translateX(100%); } }
        .xp-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%,-50%); font-size: 7px; color: #fff; text-shadow: 1px 1px 2px #000; }
        .stats-grid { display: grid; grid-template-columns: repeat(3,1fr); gap: var(--space-xs); text-align: center; }
        .stat-box { background: var(--bg-elevated); border: 1px solid var(--border-subtle); border-radius: var(--radius-sm); padding: var(--space-xs) var(--space-sm); }
        .stat-label { font-size: 5px; color: var(--text-muted); margin-bottom: 2px; }
        .stat-value { font-size: 9px; color: var(--secondary); }
        .main-content { padding: var(--space-md); padding-left: calc(var(--space-md) + var(--safe-left)); padding-right: calc(var(--space-md) + var(--safe-right)); max-width: 600px; margin: 0 auto; }
        .path-indicator { text-align: center; font-size: 7px; color: var(--text-muted); margin-bottom: var(--space-md); padding: var(--space-sm); border: 1px dashed var(--border-subtle); border-radius: var(--radius-sm); }
        .path-name { color: var(--secondary); font-size: 8px; }
        .skill-grid { display: flex; flex-direction: column; gap: var(--space-md); }
        .skill-card { background: var(--bg-card); border: var(--border-width) solid var(--border-subtle); border-radius: var(--radius-md); padding: var(--space-lg); display: flex; align-items: center; gap: var(--space-md); cursor: pointer; transition: all 0.2s; position: relative; overflow: hidden; min-height: var(--touch-target); }
        .skill-card::before { content: ''; position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--border-subtle); }
        .skill-card.unlocked { border-color: var(--primary); }
        .skill-card.unlocked::before { background: var(--primary); }
        .skill-card.unlocked:active { transform: scale(0.98); background: var(--bg-elevated); }
        .skill-card.completed { border-color: var(--secondary); background: rgba(0,255,255,0.03); }
        .skill-card.completed::before { background: var(--secondary); }
        .skill-card.locked { opacity: 0.4; cursor: not-allowed; }
        .skill-icon { font-size: 28px; width: 40px; text-align: center; }
        .skill-info { flex: 1; min-width: 0; }
        .skill-title { font-size: 8px; color: var(--primary); margin-bottom: var(--space-xs); line-height: 1.4; }
        .skill-card.completed .skill-title { color: var(--secondary); }
        .skill-meta { display: flex; gap: var(--space-sm); font-size: 6px; color: var(--text-muted); }
        .skill-xp { color: var(--secondary); }
        .skill-status { margin-left: auto; font-size: 16px; }
        .bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.98); backdrop-filter: blur(10px); border-top: var(--border-width) solid var(--primary); padding: var(--space-sm); padding-bottom: calc(var(--space-sm) + var(--safe-bottom)); z-index: 100; }
        .nav-buttons { display: flex; justify-content: space-around; max-width: 400px; margin: 0 auto; }
        .nav-btn { background: transparent; border: none; color: var(--primary); font-family: inherit; font-size: 6px; padding: var(--space-sm); min-width: 60px; display: flex; flex-direction: column; align-items: center; gap: 4px; cursor: pointer; border-radius: var(--radius-sm); }
        .nav-btn:active { background: rgba(0,204,255,0.1); transform: scale(0.95); }
        .nav-btn .icon { font-size: 20px; }
        .nav-btn.home-btn { color: var(--secondary); }
        .modal-overlay { display: none; position: fixed; inset: 0; background: var(--bg-dark); z-index: 1000; overflow-y: scroll; -webkit-overflow-scrolling: touch; }
        .modal-overlay.active { display: block; animation: fadeIn 0.2s; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .modal-content { min-height: 100%; padding: var(--space-lg); padding-top: calc(var(--space-lg) + var(--safe-top)); padding-bottom: calc(100px + var(--safe-bottom)); max-width: 600px; margin: 0 auto; }
        .lesson-header { text-align: center; margin-bottom: var(--space-xl); padding-bottom: var(--space-lg); border-bottom: 2px solid var(--border-subtle); }
        .lesson-icon { font-size: 40px; margin-bottom: var(--space-sm); }
        .lesson-title { font-size: 10px; color: var(--primary); margin-bottom: var(--space-xs); line-height: 1.5; }
        .lesson-subtitle { font-size: 7px; color: var(--secondary); }
        .teaching-section { background: var(--bg-elevated); border: 2px solid var(--primary); border-radius: var(--radius-md); padding: var(--space-lg); margin-bottom: var(--space-xl); }
        .teaching-text { font-size: 9px; line-height: 2; color: var(--primary); white-space: pre-wrap; }
        .concept-card { background: var(--bg-dark); border-left: 4px solid var(--secondary); padding: var(--space-md); margin-bottom: var(--space-md); border-radius: 0 var(--radius-sm) var(--radius-sm) 0; }
        .concept-title { font-size: 8px; color: var(--secondary); margin-bottom: var(--space-sm); }
        .concept-text { font-size: 8px; line-height: 1.8; color: var(--primary); opacity: 0.9; }
        .question-progress { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-lg); padding-bottom: var(--space-md); border-bottom: 1px solid var(--border-subtle); }
        .progress-dots { display: flex; gap: var(--space-xs); }
        .progress-dot { width: 8px; height: 8px; border-radius: 50%; background: var(--border-subtle); border: 1px solid var(--text-muted); }
        .progress-dot.current { background: var(--primary); border-color: var(--primary); box-shadow: 0 0 8px var(--primary); }
        .progress-dot.correct { background: var(--success); border-color: var(--success); }
        .progress-dot.incorrect { background: var(--danger); border-color: var(--danger); }
        .score-display { font-size: 7px; color: var(--primary); }
        .score-value { color: var(--secondary); }
        .question-text { font-size: 10px; line-height: 1.8; color: var(--secondary); margin-bottom: var(--space-xl); padding: var(--space-lg); background: var(--bg-elevated); border-radius: var(--radius-md); border: 2px solid var(--secondary); }
        .answers-list { display: flex; flex-direction: column; gap: var(--space-md); }
        .answer-btn { background: var(--bg-card); border: var(--border-width) solid var(--primary); color: var(--primary); font-family: inherit; font-size: 8px; line-height: 1.7; padding: var(--space-lg); text-align: left; cursor: pointer; border-radius: var(--radius-md); transition: all 0.15s; }
        .answer-btn:active:not(.disabled) { transform: scale(0.98); background: var(--bg-elevated); }
        .answer-btn.correct { border-color: var(--success); background: rgba(0,255,0,0.1); }
        .answer-btn.incorrect { border-color: var(--danger); background: rgba(255,68,68,0.1); }
        .answer-btn.disabled { opacity: 0.5; cursor: not-allowed; }
        .feedback-box { margin-top: var(--space-lg); padding: var(--space-lg); border-radius: var(--radius-md); font-size: 8px; line-height: 1.8; display: none; }
        .feedback-box.show { display: block; }
        .feedback-box.correct { background: rgba(0,255,0,0.1); border: 2px solid var(--success); color: var(--success); }
        .feedback-box.incorrect { background: rgba(255,68,68,0.1); border: 2px solid var(--danger); color: var(--danger); }
        .modal-footer { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(0,0,0,0.98); backdrop-filter: blur(10px); padding: var(--space-md); padding-bottom: calc(var(--space-md) + var(--safe-bottom)); display: flex; gap: var(--space-md); z-index: 1001; }
        .btn { flex: 1; font-family: inherit; font-size: 8px; padding: var(--space-md) var(--space-lg); border-radius: var(--radius-sm); cursor: pointer; min-height: var(--touch-target); display: flex; align-items: center; justify-content: center; }
        .btn:active { transform: scale(0.97); }
        .btn-primary { background: rgba(0,204,255,0.1); border: var(--border-width) solid var(--primary); color: var(--primary); }
        .btn-secondary { background: transparent; border: 2px solid var(--text-muted); color: var(--text-muted); }
        .btn-accent { background: rgba(0,255,255,0.1); border: var(--border-width) solid var(--secondary); color: var(--secondary); }
        .completion-screen { text-align: center; padding: var(--space-xl) 0; }
        .completion-icon { font-size: 64px; margin-bottom: var(--space-lg); animation: bounce 1s infinite; }
        @keyframes bounce { 0%,100% { transform: translateY(0); } 50% { transform: translateY(-15px); } }
        .completion-title { font-size: 14px; color: var(--primary); margin-bottom: var(--space-md); }
        .completion-xp { font-size: 12px; color: var(--secondary); margin-bottom: var(--space-xl); }
        .completion-stats { background: var(--bg-elevated); border: 2px solid var(--primary); border-radius: var(--radius-md); padding: var(--space-xl); margin-bottom: var(--space-xl); }
        .completion-stats p { font-size: 9px; line-height: 2; margin-bottom: var(--space-sm); }
        .toast { position: fixed; bottom: calc(80px + var(--safe-bottom)); left: 50%; transform: translateX(-50%) translateY(100px); background: var(--bg-elevated); border: 2px solid var(--primary); padding: var(--space-md) var(--space-xl); border-radius: var(--radius-md); font-size: 8px; color: var(--primary); z-index: 2000; opacity: 0; transition: all 0.3s; }
        .toast.show { transform: translateX(-50%) translateY(0); opacity: 1; }
        @media (min-width: 768px) { .skill-grid { display: grid; grid-template-columns: repeat(2,1fr); } .skill-card:hover:not(.locked) { transform: translateY(-2px); box-shadow: 0 0 20px rgba(0,204,255,0.2); } }
    </style>
</head>
<body>
    <header class="header"><div class="header-content">
        <h1 class="title">üíô COMPASSIONATE INQUIRY üíô</h1>
        <p class="subtitle">GABOR MAT√â'S HEALING APPROACH</p>
        <div class="xp-bar-outer"><div class="xp-bar-fill" id="xp-bar"></div><div class="xp-text" id="xp-text">0 / 100 XP</div></div>
        <div class="stats-grid">
            <div class="stat-box"><div class="stat-label">LEVEL</div><div class="stat-value" id="level-display">1</div></div>
            <div class="stat-box"><div class="stat-label">MASTERY</div><div class="stat-value" id="mastery-display">0%</div></div>
            <div class="stat-box"><div class="stat-label">STREAK</div><div class="stat-value" id="streak-display">0üî•</div></div>
        </div>
    </div></header>
    <main class="main-content">
        <div class="path-indicator">CURRENT PATH: <span class="path-name" id="current-path">FOUNDATIONS</span></div>
        <div class="skill-grid" id="skill-grid"></div>
    </main>
    <nav class="bottom-nav"><div class="nav-buttons">
        <button class="nav-btn home-btn" onclick="goHome()"><span class="icon">üè†</span><span>HOME</span></button>
        <button class="nav-btn" onclick="saveProgress()"><span class="icon">üíæ</span><span>SAVE</span></button>
        <button class="nav-btn" onclick="loadProgress()"><span class="icon">üìÅ</span><span>LOAD</span></button>
        <button class="nav-btn" onclick="resetProgress()"><span class="icon">üîÑ</span><span>RESET</span></button>
    </div></nav>
    <div class="modal-overlay" id="modal"><div class="modal-content" id="modal-content"></div></div>
    <div class="toast" id="toast"></div>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <script>
        let gameState = { level: 1, xp: 0, xpToNextLevel: 100, totalXp: 0, streak: 0, completedSkills: [], skillProgress: {}, currentLesson: null, currentQuestion: 0, correctAnswers: 0, questionResults: [] };
        const skillTree = [
            { id: 'curious-presence', title: 'Curious Presence', icon: 'üîç', level: 1, xp: 20, prereq: null, lessons: [{ title: 'The Foundation of CI', teaching: `Compassionate Inquiry (CI) begins with CURIOUS PRESENCE - not knowing, not fixing, just genuinely wondering about the client's experience.

Mat√©: "The greatest gift we can give another is our genuine curiosity about who they are."

Not curiosity that seeks answers to satisfy the therapist, but curiosity that creates SPACE for client to explore their own experience.`, concepts: [{ title: 'Not-Knowing Stance', text: 'Therapist doesn\'t have answers for client. True curiosity means: "I don\'t know your experience. Help me understand." This transfers authority to client.' }, { title: 'Presence Over Technique', text: 'HOW you ask matters more than WHAT. Same question asked with genuine openness vs. interrogation energy produces different results.' }], questions: [{ question: 'What\'s the difference between curious presence and therapeutic neutrality?', answers: [{ text: 'They\'re the same', correct: false, feedback: 'Different! Neutrality can be distant. Curious presence is warm, engaged.' }, { text: 'Curious presence is warm, INTERESTED while unattached to outcome', correct: true, feedback: 'YES! Combines warmth, genuine interest, AND non-attachment. Client feels met while free to explore.' }, { text: 'Neutrality is better', correct: false, feedback: 'Genuine curiosity invites. Client always free to decline.' }, { text: 'Curiosity means you don\'t care', correct: false, feedback: 'Opposite! Requires deep care.' }] }, { question: 'Client gives long intellectual explanation. CI practitioner should:', answers: [{ text: 'Listen and discuss intellectually', correct: false, feedback: 'Stays in defense. CI redirects to body/feeling.' }, { text: 'Gently interrupt: "What are you aware of in your body as you talk about this?"', correct: true, feedback: 'EXACTLY! Intellectualization is defense. Gently redirect to present experience.' }, { text: '"Stop thinking so much"', correct: false, feedback: 'Too confrontational! CI is gentle.' }, { text: 'Analyze their explanation', correct: false, feedback: 'More intellectualizing! Move toward direct experience.' }] }] }] },
            { id: 'body-awareness', title: 'Body Awareness', icon: 'ü´Ä', level: 1, xp: 25, prereq: 'curious-presence', lessons: [{ title: 'Body as Gateway', teaching: `In CI, BODY is primary source of truth. Mind lies, rationalizes, defends. Body tells truth.

When client talks, track: facial expressions, breathing, posture, gestures, tension, voice quality. Body reveals what words conceal.

Core intervention: "What do you notice in your body right now?"`, concepts: [{ title: 'Why Body Over Mind', text: 'Mind developed to survive via adaptation. Body can\'t lie. Jaw clenches when person says "I\'m fine."' }, { title: 'Somatic Markers', text: 'Track: breathing, micro-expressions, voice, gestures, posture. These reveal real-time emotional process.' }], questions: [{ question: 'Client says "I\'m fine with my mother" while jaw visibly clenches. What do you do?', answers: [{ text: 'Believe their words', correct: false, feedback: 'Body reveals unconscious truth. The clench tells different story.' }, { text: 'Point to body: "Your jaw just clenched. What are you aware of there?"', correct: true, feedback: 'PERFECT! Acknowledge words, point to body, invite curiosity.' }, { text: 'Interpret: "You\'re angry at your mother"', correct: false, feedback: 'Don\'t interpret! Invite CLIENT to discover.' }, { text: 'Ignore the clench', correct: false, feedback: 'Body signals are DATA!' }] }, { question: 'What\'s the purpose of asking "What do you notice in your body?"', answers: [{ text: 'Fill time', correct: false, feedback: 'Core intervention that shifts awareness from thinking to feeling.' }, { text: 'Trains client to shift from mental story to present-moment somatic awareness', correct: true, feedback: 'YES! Retraining to INHABIT experience rather than think ABOUT it.' }, { text: 'Avoid difficult topics', correct: false, feedback: 'Body awareness LEADS TO difficult feelings.' }, { text: 'Because Mat√© likes bodies', correct: false, feedback: 'Theoretical! Body is where trauma/emotion lives.' }] }, { question: 'Client becomes tearful but says "I don\'t know why I\'m crying." CI response:', answers: [{ text: 'Give tissue and change subject', correct: false, feedback: 'Rescues from feeling. CI STAYS WITH emotion.' }, { text: '"You don\'t need to know why. Can you just be with the tears?"', correct: true, feedback: 'BEAUTIFUL! Remove pressure to explain. Invite presence with emotion.' }, { text: 'Stop the session', correct: false, feedback: 'Emotion isn\'t emergency! This is the work.' }, { text: 'Analyze why', correct: false, feedback: 'Stay experiential! Meaning emerges from being with, not analyzing.' }] }] }] },
            { id: 'belief-exploration', title: 'Exploring Beliefs', icon: 'üí≠', level: 1, xp: 30, prereq: 'body-awareness', lessons: [{ title: 'Uncovering Core Beliefs', teaching: `Beneath symptoms lie BELIEFS formed in childhood to make sense of pain: "I'm unlovable," "I must be perfect," "My needs don't matter."

CI explores: "What belief about yourself is present when you feel this way?"

Not challenging beliefs but WITNESSING them compassionately, helping client see how childhood adaptations became adult prison.`, concepts: [{ title: 'Beliefs vs Truth', text: 'Beliefs are INTERPRETATIONS child made, not facts. "I\'m unlovable" meant "My parent couldn\'t love me." Child made it about self for illusion of control.' }, { title: 'How Beliefs Form', text: 'Painful experience ‚Üí "Why?" ‚Üí Belief that explains AND preserves attachment. Better to believe "I\'m bad" than "Parent is incapable."' }], questions: [{ question: 'Client: "I know intellectually I\'m not worthless, but I feel worthless." CI recognizes:', answers: [{ text: 'Need more cognitive therapy', correct: false, feedback: 'Cognition alone won\'t shift core belief rooted in childhood.' }, { text: 'Belief lives in body/emotion - must be met experientially', correct: true, feedback: 'EXACTLY! Intellectual understanding hasn\'t touched emotional truth. Access somatic/emotional memory.' }, { text: 'Not trying hard enough', correct: false, feedback: 'Not about effort! Need experiential work.' }, { text: 'Tell them they have worth', correct: false, feedback: 'External validation won\'t shift internal belief.' }] }, { question: 'How does CI help client see beliefs without shame?', answers: [{ text: 'Point out how wrong they are', correct: false, feedback: 'Creates shame! CI approaches with compassion.' }, { text: 'Honor the adaptation: "Of course you believed that - what else could a child conclude?"', correct: true, feedback: 'YES! Frame as intelligent child adaptation. Removes shame, creates compassion for younger self.' }, { text: 'Ignore beliefs, focus on behavior', correct: false, feedback: 'Beliefs DRIVE behavior. Must address.' }, { text: 'Tell them beliefs don\'t matter', correct: false, feedback: 'Beliefs are central! Invalidating dismisses client.' }] }] }] },
            { id: 'tracking-process', title: 'Tracking the Process', icon: 'üåä', level: 2, xp: 35, prereq: 'belief-exploration', lessons: [{ title: 'Following What\'s Alive', teaching: `CI follows PRESENT-MOMENT experience, not agenda. What's arising RIGHT NOW is the work.

You're tracking: affect (what emotion?), somatic (body response?), cognitive (beliefs?), relational (what's happening between us?).

Not following your plan but client's unfolding process.`, concepts: [{ title: 'Process vs Content', text: 'Content = story, what happened. Process = HOW they experience it NOW. "You\'re talking about childhood but body is tightening NOW."' }, { title: 'Following Not Leading', text: 'Therapist follows client\'s experience. Not leading to your theory. This creates deeper exploration.' }], questions: [{ question: 'Client starts with one topic but keeps shifting to another. You:', answers: [{ text: 'Force back to original topic', correct: false, feedback: 'Misses what\'s alive! The shift IS data.' }, { text: 'Notice it: "I see you keep returning to this. What draws you there?"', correct: true, feedback: 'EXACTLY! Something wants attention. Follow it, don\'t fight it.' }, { text: 'Let them ramble without comment', correct: false, feedback: 'Some direction helpful. Notice pattern, name it, invite exploration.' }, { text: 'They\'re avoiding', correct: false, feedback: 'Maybe. Or shifting TO what matters. Stay curious.' }] }, { question: 'What\'s the difference between following process and having no direction?', answers: [{ text: 'No difference', correct: false, feedback: 'Different! Following = tracking experience. No direction = passive.' }, { text: 'Following process = actively tracking present-moment experience while guiding attention', correct: true, feedback: 'YES! Active tracking and gentle guiding. Not passive. Intensely present, noticing what\'s alive.' }, { text: 'Always need strict agenda', correct: false, feedback: 'Agendas can override what\'s alive. Balance structure with emergence.' }, { text: 'Process doesn\'t matter', correct: false, feedback: 'Process is everything! HOW they experience matters as much as what.' }] }] }] },
            { id: 'authentic-self', title: 'Reconnecting to Authentic Self', icon: '‚ú®', level: 2, xp: 40, prereq: 'tracking-process', lessons: [{ title: 'The Lost Self', teaching: `Mat√©'s thesis: We disconnect from authentic self to maintain attachment to parents.

Result: adapted self (what you became to survive) vs. authentic self (who you actually are).

CI creates conditions for AUTHENTIC SELF to emerge: safety, acceptance, curiosity about true feelings/needs.`, concepts: [{ title: 'What is Authentic Self?', text: 'Not fixed identity but ALIVENESS: spontaneous feelings, genuine desires, natural responses. Young children are authentic until adaptation begins.' }, { title: 'Price of Adaptation', text: 'Chronic disconnection creates: depression, anxiety, addiction, somatic illness, relationship difficulties.' }], questions: [{ question: 'Client: "I don\'t know what I want. I\'m good at giving others what they want." What does this reveal?', answers: [{ text: 'Need new hobbies', correct: false, feedback: 'Surface! Issue is disconnection from authentic desires.' }, { text: 'Disconnection from authentic self - learned to attune to others, suppress own desires', correct: true, feedback: 'CLASSIC! Expert at reading others, LOST regarding own desires. Slowly reconnect to authentic self.' }, { text: 'Just indecisive', correct: false, feedback: 'Not indecisiveness! Profound disconnection.' }, { text: 'Tell them what would make them happy', correct: false, feedback: 'Can\'t be given from outside! Must discover.' }] }, { question: 'Relationship between authenticity and boundaries?', answers: [{ text: 'No relationship', correct: false, feedback: 'Intimately connected! Can\'t have boundaries without authentic self.' }, { text: 'Authentic self knows needs naturally - boundaries flow from this self-knowing', correct: true, feedback: 'YES! Authentic self has innate boundary wisdom - just needs to be accessed.' }, { text: 'Boundaries prevent authenticity', correct: false, feedback: 'Opposite! Boundaries PROTECT authentic self.' }, { text: 'Only selfish people have boundaries', correct: false, feedback: 'Internalized message! Having needs isn\'t selfish.' }] }] }] },
            { id: 'therapist-presence', title: 'Therapist\'s Own Work', icon: 'üßò', level: 3, xp: 45, prereq: 'authentic-self', lessons: [{ title: 'Healer Heal Thyself', teaching: `Mat√©: "You cannot take client where you haven't gone yourself."

Your own trauma, defenses, blind spots WILL affect the work. If you haven't processed YOUR childhood pain, can't fully be with theirs.

BEING WITH client's pain, not doing something to fix it. Your regulated presence is medicine.`, concepts: [{ title: 'Therapist as Tuning Fork', text: 'Your nervous system affects client\'s. If you\'re anxious, they can\'t settle. If grounded, you help regulate them. Co-regulation.' }, { title: 'When Therapist Needs Healing', text: 'Signs: triggered by client\'s material, need to fix, defending patterns, burnout. Ongoing supervision/therapy isn\'t luxury, it\'s necessity.' }], questions: [{ question: 'Client shares abuse similar to your unprocessed trauma. You tense, want to change subject. What\'s happening?', answers: [{ text: 'Normal, push through', correct: false, feedback: 'Don\'t push through trigger! Will interfere with presence.' }, { text: 'Your trauma is activated - limits capacity to be present. Need supervision/therapy, may need to refer', correct: true, feedback: 'HONEST! You\'re triggered, defending, limited. Take to supervision, consider referral if can\'t be present.' }, { text: 'Ignore your tension', correct: false, feedback: 'Can\'t ignore! Your tension WILL affect presence.' }, { text: 'Tell client about your trauma', correct: false, feedback: 'Not appropriate! Your disclosure serves your needs.' }] }, { question: '"Being with" pain vs "doing something about" pain?', answers: [{ text: 'Same thing', correct: false, feedback: 'Fundamentally different! Presence vs fixing.' }, { text: '"Being with" = staying present, regulated. "Doing something" = rescuing to reduce YOUR discomfort', correct: true, feedback: 'KEY! Being with: stay present, tolerate their pain. Doing: rescue because their pain distresses YOU.' }, { text: 'Being with means not caring', correct: false, feedback: 'ACTIVE presence, deeply caring! Harder than fixing.' }, { text: 'Clients need you to fix', correct: false, feedback: 'Need PRESENCE more than fixing. Being truly seen is healing.' }] }, { question: 'How does therapist\'s regulation affect client?', answers: [{ text: 'Doesn\'t - independent', correct: false, feedback: 'Nervous systems affect each other! Co-regulation.' }, { text: 'If therapist regulated, client can borrow that stability to feel more deeply', correct: true, feedback: 'CO-REGULATION! Your regulation = implicit message: "This intensity is safe." Your nervous system is therapeutic tool.' }, { text: 'Match client\'s dysregulation', correct: false, feedback: 'No! Two people drowning. Stay regulated to help client regulate.' }, { text: 'Regulation isn\'t important', correct: false, feedback: 'CENTRAL! Foundation of this work.' }] }] }] },
            { id: 'integration-practice', title: 'Integration in Practice', icon: 'üîó', level: 3, xp: 50, prereq: 'therapist-presence', lessons: [{ title: 'Bringing It All Together', teaching: `CI isn't separate techniques but integrated way of being. Simultaneously:

‚Ä¢ Maintaining curious presence
‚Ä¢ Tracking body
‚Ä¢ Following process
‚Ä¢ Exploring beliefs
‚Ä¢ Being regulated instrument

Becomes fluid, natural - BEING in inquiry state where all elements flow together.`, concepts: [{ title: 'Art Not Formula', text: 'No script. Each moment unique. Response emerges from presence, not protocol. Trust yourself and process.' }, { title: 'Ongoing Development', text: 'Never "done" learning CI. Each client teaches something new. Humility, curiosity, lifelong learning.' }], questions: [{ question: 'Client shares something painful and you notice yourself wanting to "do CI correctly." What\'s happening?', answers: [{ text: 'Good - focus on technique', correct: false, feedback: 'Technique focus takes you OUT of presence. Client feels performed at.' }, { text: 'Anxiety taking you into head - return to body, breath, genuine curiosity', correct: true, feedback: 'YES! "Doing correctly" = in head, not present. Return to body, breath, trust process. Presence IS the technique.' }, { text: 'Need more training', correct: false, feedback: 'More training won\'t solve presence issue. Practice being WITH experience, not in head about technique.' }, { text: 'Normal, keep thinking about technique', correct: false, feedback: 'Thinking about technique = not present. CI happens in presence, not planning.' }] }, { question: 'What makes CI different from other therapy approaches?', answers: [{ text: 'Better techniques', correct: false, feedback: 'Not about techniques! About WAY OF BEING with client.' }, { text: 'Emphasis on curious presence, body wisdom, and compassionate witnessing over fixing', correct: true, feedback: 'YES! CI is stance, not method. Curious presence, trusting body, being WITH rather than doing TO. The relationship IS the healing.' }, { text: 'Faster results', correct: false, feedback: 'Not about speed! About depth of presence and connection.' }, { text: 'No difference', correct: false, feedback: 'Distinct in emphasis on presence, body, and not-knowing stance. Different energy than many approaches.' }] }] }] }
        ];
        function initUI() { updateStats(); renderSkillGrid(); }
        function updateStats() { const xp = (gameState.xp / gameState.xpToNextLevel) * 100, m = Math.round((gameState.completedSkills.length / skillTree.length) * 100), p = gameState.level <= 1 ? 'FOUNDATIONS' : gameState.level <= 2 ? 'INTERMEDIATE' : 'ADVANCED'; document.getElementById('xp-bar').style.width = xp + '%'; document.getElementById('xp-text').textContent = `${gameState.xp} / ${gameState.xpToNextLevel} XP`; document.getElementById('level-display').textContent = gameState.level; document.getElementById('mastery-display').textContent = m + '%'; document.getElementById('streak-display').textContent = gameState.streak + 'üî•'; document.getElementById('current-path').textContent = p; }
        function renderSkillGrid() { const g = document.getElementById('skill-grid'); g.innerHTML = skillTree.map(s => { const c = gameState.completedSkills.includes(s.id), u = !s.prereq || gameState.completedSkills.includes(s.prereq); let st = 'üîí', cl = 'locked'; if (c) { st = '‚úì'; cl = 'completed'; } else if (u) { st = '‚Üí'; cl = 'unlocked'; } return `<div class="skill-card ${cl}" onclick="${u ? `startSkill('${s.id}')` : ''}" tabindex="${u ? '0' : '-1'}"><div class="skill-icon">${s.icon}</div><div class="skill-info"><div class="skill-title">${s.title}</div><div class="skill-meta"><span class="skill-xp">+${s.xp} XP</span><span>Lv ${s.level}</span></div></div><div class="skill-status">${st}</div></div>`; }).join(''); g.querySelectorAll('.skill-card.unlocked').forEach(c => c.onkeydown = e => { if (e.key === 'Enter') c.click(); }); }
        function startSkill(id) { const s = skillTree.find(x => x.id === id); if (!s) return; gameState.currentLesson = s; gameState.currentQuestion = 0; gameState.correctAnswers = 0; gameState.questionResults = []; showLesson(s); }
        function showLesson(s) { const m = document.getElementById('modal'), c = document.getElementById('modal-content'), l = s.lessons[0]; c.innerHTML = `<div class="lesson-header"><div class="lesson-icon">${s.icon}</div><h2 class="lesson-title">${l.title}</h2><div class="lesson-subtitle">+${s.xp} XP</div></div><div class="teaching-section"><div class="teaching-text">${l.teaching}</div></div><div>${l.concepts.map(x => `<div class="concept-card"><div class="concept-title">üìå ${x.title}</div><div class="concept-text">${x.text}</div></div>`).join('')}</div><div class="modal-footer"><button class="btn btn-secondary" onclick="closeModal()">‚Üê Back</button><button class="btn btn-primary" onclick="startQuestions()">Start Quiz ‚Üí</button></div>`; m.classList.add('active'); document.body.style.overflow = 'hidden'; document.body.style.position = 'fixed'; document.body.style.width = '100%'; document.body.style.top = `-${window.scrollY}px`; }
        function startQuestions() { showQuestion(0); }
        function showQuestion(i) { const s = gameState.currentLesson, l = s.lessons[0], q = l.questions[i], c = document.getElementById('modal-content'), t = l.questions.length; const dots = l.questions.map((_, j) => `<div class="progress-dot${j === i ? ' current' : j < i ? (gameState.questionResults[j] ? ' correct' : ' incorrect') : ''}"></div>`).join(''); c.innerHTML = `<div class="lesson-header"><h2 class="lesson-title">${s.title}</h2><div class="lesson-subtitle">Q${i + 1}/${t}</div></div><div class="question-progress"><div class="progress-dots">${dots}</div>${i > 0 ? `<span class="score-display"><span class="score-value">${gameState.correctAnswers}/${i}</span></span>` : ''}</div><div class="question-text">${q.question}</div><div class="answers-list">${q.answers.map((a, j) => `<button class="answer-btn" onclick="selectAnswer(${j})">${a.text}</button>`).join('')}</div><div class="feedback-box" id="feedback"></div><div class="modal-footer"><button class="btn btn-secondary" onclick="closeModal()">‚Üê Exit</button><div id="cont"></div></div>`; window.qData = { q, i, t }; }
        function selectAnswer(j) { const { q, i, t } = window.qData, a = q.answers[j], btns = document.querySelectorAll('.answer-btn'), fb = document.getElementById('feedback'), ct = document.getElementById('cont'); btns.forEach(b => b.classList.add('disabled')); if (a.correct) { btns[j].classList.add('correct'); fb.className = 'feedback-box correct show'; fb.innerHTML = '‚úì ' + a.feedback; gameState.correctAnswers++; gameState.questionResults.push(true); } else { btns[j].classList.add('incorrect'); fb.className = 'feedback-box incorrect show'; fb.innerHTML = '‚úó ' + a.feedback; gameState.questionResults.push(false); } ct.innerHTML = `<button class="btn btn-primary" onclick="${i >= t - 1 ? 'completeSkill()' : 'nextQuestion()'}">${i >= t - 1 ? 'Results ‚Üí' : 'Continue ‚Üí'}</button>`; }
        function nextQuestion() { gameState.currentQuestion++; showQuestion(gameState.currentQuestion); }
        function completeSkill() { const s = gameState.currentLesson, t = s.lessons[0].questions.length, sc = Math.round((gameState.correctAnswers / t) * 100), xp = s.xp; gameState.xp += xp; gameState.totalXp += xp; while (gameState.xp >= gameState.xpToNextLevel) { gameState.xp -= gameState.xpToNextLevel; gameState.level++; gameState.xpToNextLevel = Math.floor(gameState.xpToNextLevel * 1.5); } if (!gameState.completedSkills.includes(s.id)) { gameState.completedSkills.push(s.id); gameState.streak++; } const nx = skillTree.slice(skillTree.findIndex(x => x.id === s.id) + 1).find(x => !x.prereq || gameState.completedSkills.includes(x.prereq)); const c = document.getElementById('modal-content'); c.innerHTML = `<div class="completion-screen"><div class="completion-icon">${s.icon}</div><h2 class="completion-title">MASTERED!</h2><div class="completion-xp">+${xp} XP</div><div class="completion-stats"><p>Score: <span style="color:var(--secondary)">${sc}%</span></p><p>${s.title}</p></div></div><div class="modal-footer"><button class="btn btn-secondary" onclick="closeModalAndRefresh()">‚Üê Skills</button>${nx && !gameState.completedSkills.includes(nx.id) ? `<button class="btn btn-accent" onclick="startNextSkill('${nx.id}')">Next ‚Üí</button>` : ''}</div>`; if (typeof confetti !== 'undefined') confetti({ particleCount: 80, spread: 60, origin: { y: 0.7 }, colors: ['#0cf', '#0ff'] }); saveProgress(); }
        function startNextSkill(id) { closeModal(); setTimeout(() => startSkill(id), 200); }
        function closeModal() { const y = document.body.style.top; document.getElementById('modal').classList.remove('active'); document.body.style.overflow = ''; document.body.style.position = ''; document.body.style.width = ''; document.body.style.top = ''; window.scrollTo(0, parseInt(y || '0') * -1); }
        function closeModalAndRefresh() { closeModal(); updateStats(); renderSkillGrid(); }
        function saveProgress() { localStorage.setItem('compassionateInquiryAcademy', JSON.stringify(gameState)); showToast('üíæ Saved!'); }
        function loadProgress() { const s = localStorage.getItem('compassionateInquiryAcademy'); if (s) { gameState = JSON.parse(s); updateStats(); renderSkillGrid(); showToast('‚úì Loaded!'); } else showToast('No save found'); }
        function resetProgress() { if (confirm('Reset progress?')) { localStorage.removeItem('compassionateInquiryAcademy'); location.reload(); } }
        function showToast(m) { const t = document.getElementById('toast'); t.textContent = m; t.classList.add('show'); setTimeout(() => t.classList.remove('show'), 2000); }
        function goHome() { window.location.href = 'learning-library-hub.html'; }
        document.addEventListener('keydown', e => { const m = document.getElementById('modal'), o = m.classList.contains('active'); if (e.key === 'Escape' && o) closeModal(); if (!o && e.key === 'h') goHome(); if (!o && e.key === 's') { e.preventDefault(); saveProgress(); } });
        document.addEventListener('DOMContentLoaded', () => { const s = localStorage.getItem('compassionateInquiryAcademy'); if (s) gameState = JSON.parse(s); initUI(); });
    </script>
</body>
</html>
